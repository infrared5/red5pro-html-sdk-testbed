<!doctype html>
{{> license}}
<html>
  <head>
    {{> meta title='Publish WHIP'}}
    {{> header-scripts}}
    {{> header-stylesheets}}
    <style>
      code {
        padding: 0 0.5rem;
        background-color: #fff;
      }
      .settings-area {
        padding-top: 10px;
        background-color: #eeee;
      }
      .settings-field {
        display: flex;
        align-items: center;
      }
      .control-container {
        display: flex;
        flex-direction: row;
        background-color: #dbdbdb;
        padding: 20px;  }
      .control-container > button:nth-child(even) {
        margin-left: 20px;
      }
      @media (max-width:510px) {
        .control-container {
          flex-direction: column;
        }
        .control-container > button:nth-child(even) {
          margin-left: 0px;
          margin-top: 20px;
        }
      }
    </style>
  </head>
  <body>
    {{> top-bar }}
    {{> navigation isTestPage=true }}
    <div id="app">
      {{> settings-link}}
      {{> test-info testTitle='Publish WHIP'}}
      <div class="stream-section">
        {{> status-field-publisher}}
        {{> statistics-field packets_field='Packets Sent'}}
        <div class="centered">
          <video id="red5pro-publisher" class="red5pro-publisher"
                 controls autoplay playsinline muted>
          </video>
        </div>
        <div class="settings-area">
          <p style="text-align: center;">WHEP Session Settings</p>
          <hr>
          <p class="settings-field settings-collapsable">
            <label class="settings-label">Signaling Channel:</label>
            <input type="checkbox" id="channel-check" class="control settings-control">
          </p>
          <p class="settings-field settings-collapsable">
            <label class="settings-label">Trickle Ice Candidates&ast;:</label>
            <input type="checkbox" id="trickle-check" class="control settings-control">
          </p>
          <p class="control-container">
            <button id="publish-unpublish-btn" class="ui-button">Publish</button>
          </p>
          <div class="test-notification">
            <p>&ast; By enabling <strong>Trickle Ice Candidates</strong>, candidates will be sent in batches after the initial offer as opposed to candidates being sent along with the initial offer SDP if disabled.</p>
          </div>
        </div>
      </div>
    </div>
    {{> body-scripts}}
    <script src="index.js"></script>
  </body>
</html>
